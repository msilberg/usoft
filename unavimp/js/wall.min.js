function webWall(e,t,n,r,i){var s=$.browser.msie?680:705;webWallV2(e,t,n,r,i,s,525,5,2)}function webWallV2(e,t,n,r,i,s,o,u,a){var f;if(isRtl(n)){f="direction: rtl; text-align: right;"}else{f="direction: ltr; text-align: left;"}$(".wall-placeholder").replaceWith(WEB_WALL_TEMPLATE);var l=$(".wall-container");l.data("wall-zoomed","false");l.data("lottery-language",n);l.data("wall-host",r);l.data("wall-width",s);l.data("wall-height",o);l.data("wall-columns",u);l.data("wall-rows",a);l.attr("style",$.format("left: {0}px; top: {1}px; width: {2}px; height: {3}px; {4}",e,t,s,o,f));l.draggable({axis:"x",iframeFix:true,distance:50,start:onDragStart,drag:onDrag});loadContent(r,i);$(".wall-info-rotate").on("click",null,rotate);$(".wall-back-rotate").on("click",null,rotateBack);$(".wall-fader").on("click",null,unzoom);$("table.wall-zoomed").on("click",null,unzoom);var c="height: "+Math.ceil(o*.8*.6)+"px;";if(isRtl()){c+=" text-align: right;"}else{c+=" text-align: left;"}$("#wall-back-text").attr("style",c);if($.browser.msie){document.onselectstart=function(){return false};$(".wall-fader").attr("style",$.format("left: 2px; top: 2px; width: {0}px; height: {1}px; display: none;",s-5,o-6))}}function onDragStart(e,t){$(".wall-container").data("wall-drag-left",t.position.left);$("table.wall-zoomed").data("zoomRequest","false");return true}function onDrag(e,t){if("true"!==$(".wall-container").data("wall-zoomed")){var n=$(".wall-container").data("wall-drag-left");var r=t.position.left;if(r<n){moveRight()}else{moveLeft()}}return false}function moveRight(){var e=$(".wall-container");var t=e.data("current-page");var n=e.data("pages-count");if(isRtl()){if(t===0){return}t--}else{if(t===n-1){return}t++}var r=e.data("wall-width");$(".wall-pager-item-active").attr("class","wall-pager-item");if(isRtl()&&!$.browser.msie){$(".wall-pager-item").eq(n-(t+1)).attr("class","wall-pager-item-active")}else{$(".wall-pager-item").eq(t).attr("class","wall-pager-item-active")}e.data("current-page",t);if(isRtl()){$(".scrollable").animate({left:r*t+"px"},"fast")}else{$(".scrollable").animate({left:-1*r*t+"px"},"fast")}return}function moveLeft(){var e=$(".wall-container");var t=e.data("current-page");var n=e.data("pages-count");if(isRtl()){if(t===n-1){return}t++}else{if(t===0){return}t--}var r=e.data("wall-width");$(".wall-pager-item-active").attr("class","wall-pager-item");if(isRtl()&&!$.browser.msie){$(".wall-pager-item").eq(n-(t+1)).attr("class","wall-pager-item-active")}else{$(".wall-pager-item").eq(t).attr("class","wall-pager-item-active")}e.data("current-page",t);if(isRtl()){$(".scrollable").animate({left:r*t+"px"},"fast")}else{$(".scrollable").animate({left:-1*r*t+"px"},"fast")}}function webWallSelectCatalogue(e){unzoom(null);loadContent($(".wall-container").data("wall-host"),e)}function loadContent(e,t){var n=$.format(URL_DATA_SOURCE,e,t);var r=$(".wall-container");var i=r.data("wall-columns");var s=r.data("wall-rows");var o=r.data("wall-width");var u=r.data("wall-height");var a=Math.ceil((o-10*(i+1))/i);var f=Math.ceil((u-10*(s+1))*.96/s);var l=$.format("width: {0}px; height: {1}px;",a,f);$.getJSON(n,function(e){var t=getPagesCount(e.length,i,s);var n=constructScrollableLayer(r,t,o);constructPager(r,t);var u=0;var c=0;var h=0;var p=0;var d=null;var v=null;var m=null;$.each(e,function(t,r){if(h===i*s){h=0;c=0;p++}if(h===0){d=constructWallContainer(n,d,p,o,a,e.length-u,i,s);v=$(document.createElement("tr"));v.appendTo(d)}if(c===i){c=0;var g=$(document.createElement("tr"));g.insertAfter(v);v=g}m=constructCell(v,r,l);var y=$(document.createElement("img")).attr("class","wall-product");if($.browser.msie){y.attr("src",r.image+"/maxwidth/"+Math.ceil(a-10)+"/maxheight/"+Math.ceil(f-10))}else{y.attr("src",r.image).attr("style","max-width: "+Math.ceil(a-20)+"px; max-height: "+Math.ceil(f-20)+"px;")}y.on("dragstart",function(e){e.preventDefault()});y.appendTo(m);c++;h++;u++})})}function constructScrollableLayer(e,t,n){$("div.scrollable").remove();var r=$(document.createElement("div")).attr("class","scrollable").attr("style","width: "+t*n+"px; left: 0px;").appendTo(e);return r}function constructWallContainer(e,t,n,r,i,s,o,u){var a;if(s<o){a=i*s+s*10}else{a=r}var f;if(s<=o*u){f=100/u+"%"}else{f="100%"}var l;if(isRtl()){l=-1*r*n;if(s<o){var c=o-s;l+=c*i+(c+1)*10}}else{l=r*n}var h=$(document.createElement("table")).attr("class","wall-products").attr("style","width: "+a+"px; "+"height: "+f+"; "+"left: "+l+"px;");if(t===null){h.appendTo(e)}else{h.insertAfter(t)}return h}function constructCell(e,t,n){var r=$(document.createElement("td"));r.attr("class","wall-product").attr("style",n).data("itemName",t.name).data("costOld",t.priceOld).data("costNew",t.priceNew).data("itemDescription",t.description).on("click",null,zoom).on("mousedown",null,zoomPreparation).appendTo(e);return r}function constructPager(e,t){e.data("current-page",0);e.data("pages-count",t);$("div.wall-pager").remove();var n=$("<div>").addClass("wall-pager").appendTo(e);if(isRtl()&&!$.browser.msie){for(var r=t;0<r;r--){var i=$("<div>");if(r===1){i.addClass("wall-pager-item-active")}else{i.addClass("wall-pager-item")}i.text(r).appendTo(n)}}else{for(var r=0;r<t;r++){var i=$("<div>");if(r===0){i.addClass("wall-pager-item-active")}else{i.addClass("wall-pager-item")}i.text(r+1).appendTo(n)}}}function getPagesCount(e,t,n){var r=Math.ceil(e/(t*n));if(r<=0){r=1}return r}function zoomPreparation(e){$("table.wall-zoomed").data("zoomRequest","true")}function zoom(e){if("true"!==$("table.wall-zoomed").data("zoomRequest")){return}$(".wall-container").data("wall-zoomed","true");var t=$(this);var n=t.find("img");var r=n.attr("src");var i=$("img.wall-zoomed");if(i!==null){i.attr("src",r);i.on("dragstart",function(e){e.preventDefault()})}var s=t.data("itemName");var o=$(".wall-info-item");o.html(s);if(s.length===0){o.hide()}else{o.show()}s=t.data("costOld");o=$(".wall-info-old-cost");o.html(s);if(s.length===0){o.hide()}else{o.show()}s=t.data("costNew");o=$(".wall-info-new-cost");o.html(s);if(s.length===0){o.hide()}else{o.show()}$(".wall-back-title").html(t.data("itemName"));$("#wall-back-text").html(t.data("itemDescription"));$("table.wall-zoomed").fadeIn("fast");$("div.wall-fader").fadeIn("fast");if($.browser.msie){var u=$(".wall-container").data("wall-height");var a=Math.ceil((u*.8*.75-n.height())/2);$("td.wall-zoomed").attr("style","padding-top: "+a+"px;")}}function unzoom(e){var t=$("div.wall-fader");t.fadeOut("fast");var n=$("table.wall-zoomed");n.fadeOut("fast");rotateBack(null);$(".wall-container").data("wall-zoomed","false")}function rotate(e){if($.browser.msie){$("table.wall-zoomed").rotate3Di("flip",0,{sideChange:flipped});$("td.wall-zoomed").attr("style","")}else{$("table.wall-zoomed").rotate3Di("flip",500,{sideChange:flipped})}return false}function rotateBack(e){if($.browser.msie){$("table.wall-zoomed").rotate3Di("unflip",0,{sideChange:flipped});var t=$(".wall-container");var n=t.data("wall-rows");var r=t.data("wall-height");var i=(r-10*(n+1))*.96/n;$("td.wall-zoomed").attr("style","padding-top: "+(r*.6-i)+"px;")}else{$("table.wall-zoomed").rotate3Di("unflip",500,{sideChange:flipped})}return false}function flipped(e){var t=$("img.wall-zoomed");var n=$(".wall-info-rotate");var r=$(".wall-info-item");var i=$(".wall-info-old-cost");var s=$(".wall-info-new-cost");var o=$(".wall-back-rotate");var u=$(".wall-back-info");if(e){t.show();n.show();if(r.html().length!==0){r.show()}if(i.html().length!==0){i.show()}if(s.html().length!==0){s.show()}o.hide();u.hide()}else{t.hide();n.hide();r.hide();i.hide();s.hide();o.show();u.show()}}function isRtl(e){if(typeof e==="undefined"){e=$(".wall-container").data("lottery-language")}return"he"===e}var DATASOURE_ERROR='<td style="width: 100%;color: white; text-align: center; font-weight: bold;">Datasource error: {0}</td>';var URL_DATA_SOURCE="http://{0}/getproductsunsec/version/3/top10id/{1}?jsoncallback=?";var WEB_WALL_TEMPLATE='<div class="wall-container">    <div class="wall-fader" style="display: none;"></div>    <table class="wall-zoomed" style="display: none;"><tr><td class="wall-zoomed"><img class="wall-zoomed" src="" /><div class="wall-info-rotate"></div><div class="wall-back-rotate" style="display: none;"></div><div class="wall-info-item"></div><div class="wall-info-old-cost"></div><div class="wall-info-new-cost"></div><div class="wall-back-info" style="display: none;"> <div class="wall-back-title"></div><div id="wall-back-text" class="wall-back-text"></div></div></td></tr></table></div>'